{"version":3,"sources":["views/apps/chat/ChatSidebar.js","../node_modules/reactstrap/es/Input.js","../node_modules/reactstrap/es/FormGroup.js","redux/actions/chat/index.js"],"names":["i","ChatSidebar","state","chatsContacts","contacts","messages","status","value","getChatContents","props","getChats","getContactChats","handleOnChange","e","setState","target","searchContacts","this","chat","chatContacts","chats","contactsArr","length","filteredContacts","chatsArr","filteredChats","renderContacts","map","contact","key","uid","onClick","handleActiveChat","markSeenAllMessages","mainSidebar","className","src","photoURL","alt","displayName","height","width","about","renderChats","Array","isArray","lastMsg","msg","slice","lastMsgDate","Date","time","lastMsgMonth","toLocaleString","month","lastMsgDay","getDate","pendingMsg","filter","isSeen","isSent","activeID","undefined","activeChatID","textContent","color","pill","size","handleUserSidebar","userImg","type","placeholder","onChange","options","wheelPropagation","React","Component","connect","chatApp","_excluded","propTypes","children","PropTypes","node","string","oneOfType","number","bsSize","valid","bool","invalid","tag","tagPropType","innerRef","object","func","plaintext","addon","cssModule","Input","_React$Component","_this","call","getRef","bind","_assertThisInitialized","focus","_inheritsLoose","_proto","prototype","ref","render","_this$props","attributes","_objectWithoutPropertiesLoose","checkInput","indexOf","isNotaNumber","RegExp","Tag","formControlClass","test","warnOnce","classes","mapToCssModules","classNames","createElement","_extends","defaultProps","row","check","inline","disabled","FormGroup","dispatch","axios","get","then","response","data","catch","err","console","log","togglePinned","id","post","contactId","sendMessage","isPinned","text","newMsg","toString","message","changeStatus","query"],"mappings":"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","file":"static/js/122.c7d357f7.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Card, FormGroup, Input, Badge } from 'reactstrap'\r\nimport { X, Search } from 'react-feather'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  getChats,\r\n  getContactChats,\r\n  searchContacts,\r\n  markSeenAllMessages,\r\n} from '../../../redux/actions/chat/index'\r\nimport userImg from '../../../assets/img/portrait/small/avatar-s-11.jpg'\r\n\r\nclass ChatSidebar extends React.Component {\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (\r\n      props.chat.chatContacts.length !== state.chatContacts ||\r\n      props.chat.contacts.length !== state.contacts ||\r\n      props.chat.chats.length !== state.chats ||\r\n      props.chat.status !== state.status\r\n    ) {\r\n      return {\r\n        chatsContacts: props.chat.chatContacts,\r\n        contacts: props.chat.contacts,\r\n        chats: props.chat.chats,\r\n        status: props.chat.status,\r\n      }\r\n    }\r\n    // Return null if the state hasn't changed\r\n    return null\r\n  }\r\n  state = {\r\n    chatsContacts: [],\r\n    contacts: [],\r\n    messages: [],\r\n    status: null,\r\n    value: '',\r\n  }\r\n\r\n  getChatContents = () => {\r\n    this.props.getChats()\r\n    this.props.getContactChats()\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getChatContents()\r\n    this.setState({\r\n      chatsContacts: this.props.chat.chatContacts,\r\n      contacts: this.props.chat.contacts,\r\n      chats: this.props.chat.chats,\r\n      status: this.props.chat.status,\r\n    })\r\n  }\r\n\r\n  handleOnChange = (e) => {\r\n    this.setState({ value: e.target.value })\r\n    this.props.searchContacts(e.target.value)\r\n  }\r\n\r\n  render() {\r\n    const { contacts, chatsContacts, chats, status, value } = this.state\r\n    const contactsArr = value.length\r\n      ? this.props.chat.filteredContacts\r\n      : contacts\r\n    const chatsArr = value.length\r\n      ? this.props.chat.filteredChats\r\n      : chatsContacts\r\n    let renderContacts =\r\n      contactsArr.length > 0\r\n        ? contactsArr.map((contact) => (\r\n            <li\r\n              key={contact.uid}\r\n              onClick={() => {\r\n                this.props.handleActiveChat(\r\n                  contact.uid,\r\n                  contact,\r\n                  chats[contact.uid],\r\n                )\r\n                this.props.markSeenAllMessages(contact.uid)\r\n                this.props.mainSidebar(false)\r\n              }}\r\n            >\r\n              <div className=\"pr-1\">\r\n                <span className=\"avatar avatar-md m-0\">\r\n                  <img\r\n                    src={contact.photoURL}\r\n                    alt={contact.displayName}\r\n                    height=\"38\"\r\n                    width=\"38\"\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div className=\"user-chat-info\">\r\n                <div className=\"contact-info\">\r\n                  <h5 className=\"text-bold-600 mb-0\">{contact.displayName}</h5>\r\n                  <p className=\"truncate\">{contact.about}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))\r\n        : null\r\n    let renderChats =\r\n      chatsArr && Array.isArray(chatsArr)\r\n        ? chatsArr.map((chat) => {\r\n            let lastMsg =\r\n                chats[chat.uid] && chats[chat.uid].msg\r\n                  ? chats[chat.uid].msg.slice(-1)[0]\r\n                  : null,\r\n              lastMsgDate = new Date(\r\n                lastMsg && lastMsg.time ? lastMsg.time : null,\r\n              ),\r\n              lastMsgMonth = lastMsgDate.toLocaleString('default', {\r\n                month: 'short',\r\n              }),\r\n              lastMsgDay = lastMsgDate.getDate()\r\n            let pendingMsg =\r\n              chats[chat.uid] && chats[chat.uid].msg\r\n                ? chats[chat.uid].msg.filter(\r\n                    (i) => i.isSeen === false && i.isSent !== true,\r\n                  ).length\r\n                : null\r\n            let activeID =\r\n              chats[chat.uid] !== undefined ? chats[chat.uid] : null\r\n            return (\r\n              <li\r\n                key={chat.uid}\r\n                onClick={() => {\r\n                  this.props.handleActiveChat(chat.uid, chat, activeID)\r\n                  this.props.mainSidebar(false)\r\n                  this.props.markSeenAllMessages(chat.uid)\r\n                }}\r\n                className={`${\r\n                  this.props.activeChatID === chat.uid ? 'active' : ''\r\n                }`}\r\n              >\r\n                <div className=\"pr-1\">\r\n                  <span className=\"avatar avatar-md m-0\">\r\n                    <img\r\n                      src={chat.photoURL}\r\n                      alt={chat.displayName}\r\n                      height=\"38\"\r\n                      width=\"38\"\r\n                    />\r\n                  </span>\r\n                </div>\r\n                <div className=\"user-chat-info\">\r\n                  <div className=\"contact-info\">\r\n                    <h5 className=\"text-bold-600 mb-0\">{chat.displayName}</h5>\r\n                    <p className=\"truncate\">\r\n                      {lastMsg ? lastMsg.textContent : chat.about}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"contact-meta d-flex- flex-column\">\r\n                    <span className=\"float-right mb-25\">\r\n                      {lastMsgMonth + ' ' + lastMsgDay}\r\n                    </span>\r\n                    {pendingMsg > 0 ? (\r\n                      <div className=\"unseen-msg\">\r\n                        <Badge\r\n                          className=\"badge-md float-right\"\r\n                          color=\"primary\"\r\n                          pill\r\n                        >\r\n                          {pendingMsg}\r\n                        </Badge>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            )\r\n          })\r\n        : null\r\n    return (\r\n      <Card className=\"sidebar-content h-100\">\r\n        <span\r\n          className=\"sidebar-close-icon\"\r\n          onClick={() => this.props.mainSidebar(false)}\r\n        >\r\n          <X size={15} />\r\n        </span>\r\n        <div className=\"chat-fixed-search\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <div className=\"sidebar-profile-toggle position-relative d-inline-flex\">\r\n              <div\r\n                className=\"avatar\"\r\n                onClick={() => this.props.handleUserSidebar('open')}\r\n              >\r\n                <img src={userImg} alt=\"User Profile\" height=\"40\" width=\"40\" />\r\n                <span\r\n                  className={\r\n                    status === 'dnd'\r\n                      ? 'avatar-status-busy'\r\n                      : status === 'away'\r\n                      ? 'avatar-status-away'\r\n                      : status === 'offline'\r\n                      ? 'avatar-status-offline'\r\n                      : 'avatar-status-online'\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n            <FormGroup className=\"position-relative has-icon-left mx-1 my-0 w-100\">\r\n              <Input\r\n                className=\"round\"\r\n                type=\"text\"\r\n                placeholder=\"Search contact or start a new chat\"\r\n                onChange={(e) => this.handleOnChange(e)}\r\n                value={value}\r\n              />\r\n              <div className=\"form-control-position\">\r\n                <Search size={15} />\r\n              </div>\r\n            </FormGroup>\r\n          </div>\r\n        </div>\r\n        <PerfectScrollbar\r\n          className=\"chat-user-list list-group\"\r\n          options={{\r\n            wheelPropagation: false,\r\n          }}\r\n        >\r\n          <h3 className=\"primary p-1 mb-0\">Chats</h3>\r\n          <ul className=\"chat-users-list-wrapper media-list\">{renderChats}</ul>\r\n          <h3 className=\"primary p-1 mb-0\">Contacts</h3>\r\n          <ul className=\"chat-users-list-wrapper media-list\">\r\n            {renderContacts}\r\n          </ul>\r\n        </PerfectScrollbar>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    chat: state.chatApp.chats,\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {\r\n  getChats,\r\n  getContactChats,\r\n  searchContacts,\r\n  markSeenAllMessages,\r\n})(ChatSidebar)\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"];\n\n/* eslint react/prefer-stateless-function: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  bsSize: PropTypes.string,\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var rangeInput = type === 'range';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (rangeInput) {\n      formControlClass = formControlClass + \"-range\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes,\n      \"aria-invalid\": invalid\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes;\nInput.defaultProps = defaultProps;\nexport default Input;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;","import axios from \"axios\"\r\n\r\nexport const getChats = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get(\"api/app/chat/chats\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: \"GET_CONTACTS\",\r\n          contacts: response.data.contacts,\r\n          chats: response.data.chats\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\nexport const getContactChats = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get(\"api/app/chat/chat-contacts\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: \"GET_CHAT_CONTACTS\",\r\n          chats: response.data\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\nexport const togglePinned = (id, value) => {\r\n  return dispatch => {\r\n    axios\r\n      .post(\"/api/apps/chat/set-pinned/\", {\r\n        contactId: id,\r\n        value\r\n      })\r\n      .then(response => {\r\n        dispatch({\r\n          type: \"SET_PINNED\",\r\n          id,\r\n          value\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\nexport const sendMessage = (id, isPinned, text) => {\r\n  if (text.length > 0) {\r\n    return dispatch => {\r\n      let newMsg = {\r\n        textContent: text,\r\n        isSent: true,\r\n        isSeen: false,\r\n        time: new Date().toString()\r\n      }\r\n      axios\r\n        .post(\"/api/app/chat/send-message\", {\r\n          contactId: id,\r\n          message: newMsg,\r\n          isPinned\r\n        })\r\n        .then(response => {\r\n          dispatch({\r\n            type: \"SEND_MESSAGE\",\r\n            msg: newMsg,\r\n            id,\r\n            isPinned,\r\n            text\r\n          })\r\n          dispatch(getChats())\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n  } else {\r\n    return\r\n  }\r\n}\r\n\r\nexport const changeStatus = status => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: \"CHANGE_STATUS\",\r\n      status\r\n    })\r\n  }\r\n}\r\n\r\nexport const searchContacts = query => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: \"SEARCH_CONTACTS\",\r\n      query\r\n    })\r\n  }\r\n}\r\n\r\nexport const markSeenAllMessages = id => {\r\n  return dispatch => {\r\n    axios\r\n      .post(\"/api/apps/chat/mark-all-seen/\", {\r\n        contactId: id\r\n      })\r\n      .then(response => {\r\n        dispatch({\r\n          type: \"MARK_AS_SEEN\",\r\n          id\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n"],"sourceRoot":""}