(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[210],{2068:function(e,a,t){"use strict";t.r(a);var n=t(29),l=t(0),o=t.n(l),c=t(1259),i=t(1257),r=t(1258),s=t(187),d=t(820),u=t(803),m=t(807),v=t(1012),g=(t(880),t(946),t(97));t(27),t(847),t(1441);a.default=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],b=a[1],f=Object(l.useState)(""),E=Object(n.a)(f,2),h=E[0],S=E[1],p=Object(l.useState)(""),O=Object(n.a)(p,2),j=O[0],k=O[1],w=Object(l.useState)(""),I=Object(n.a)(w,2),N=I[0],y=I[1],C=Object(l.useState)(""),L=Object(n.a)(C,2),x=L[0],A=L[1],_=Object(l.useState)(!1),D=Object(n.a)(_,2),F=D[0],J=(D[1],Object(l.useState)(!1)),P=Object(n.a)(J,2),V=P[0],q=P[1],z=Object(l.useState)(!1),B=Object(n.a)(z,2),G=(B[0],B[1],Object(l.useState)()),H=Object(n.a)(G,2),K=(H[0],H[1],{appId:"7d1f07c76f9d46be86bc46a791884023",channel:j,enableVideo:!0,token:x||localStorage.getItem("astrotokenforlivestream"),uid:0,role:"host"});Object(l.useEffect)((function(){var e=function(){window.history.pushState(null,null,window.location.pathname)};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);var M={EndCall:function(){b(!1);localStorage.getItem("astroId");g.a.get("/user/disConnectLiveStream/".concat(h)).then((function(e){console.log(e.data),q(!1)})).catch((function(e){console.log(e.response)}))}};return o.a.createElement("div",{className:"m-0 livestream"},o.a.createElement(c.a,null,o.a.createElement(i.a,null,o.a.createElement(r.a,{lg:"4",md:"4",sm:"4"},o.a.createElement("div",{className:"container mt-2 mb-1"},o.a.createElement(s.a,{onClick:function(e){return function(e){e.preventDefault();var a={astroAccount:localStorage.getItem("astroId"),status:!0};"Active"===N&&g.a.post("/user/astroLiveStreaming",a).then((function(e){var a,t,n,l,o,c,i,r,s,d,u,m,v,g,f;(console.log(e.data),"already exists"===e.data.msg)&&(A(null===(l=e.data)||void 0===l?void 0:l.token),S(null===(o=e.data)||void 0===o?void 0:o._id),localStorage.setItem("liveid",null===(c=e.data)||void 0===c?void 0:c._id),k(null===(i=e.data)||void 0===i?void 0:i.channelName),q(!0));"success"===(null===(a=e.data)||void 0===a?void 0:a.message)&&(localStorage.setItem("liveid",null===(r=e.data)||void 0===r||null===(s=r.data)||void 0===s?void 0:s._id),A(null===(d=e.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.token),k(null===(m=e.data)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.channelName),S(null===(g=e.data)||void 0===g||null===(f=g.data)||void 0===f?void 0:f._id),q(!0));localStorage.setItem("astrotokenforlivestream",null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.token),b(!0)})).catch((function(e){var a;console.log(null===(a=e.response)||void 0===a?void 0:a.data)})),"Deactive"===N&&localStorage.removeItem("astrotokenforlivestream")}(e)},color:"success"},"liveStreaming Now"))),o.a.createElement(r.a,null,o.a.createElement("div",{className:"container mt-1 mb-1"},o.a.createElement(i.a,null,!1===V?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(u.a,{value:"Active",onClick:function(e){y(e.target.value)},name:"radio1",type:"radio"})," ",o.a.createElement(m.a,{check:!0},"Online")))):null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(u.a,{value:"Deactive",onClick:function(e){y(e.target.value),function(){var e=localStorage.getItem("liveid");console.log(e),g.a.get("/user/disConnectLiveStream/".concat(e)).then((function(e){console.log(e.data),q(!1),localStorage.removeItem("liveid"),window.location.replace("/")})).catch((function(e){console.log(e.response)}))}()},name:"radio1",type:"radio"})," ",o.a.createElement(m.a,{check:!0},"Offline"))))))),o.a.createElement(i.a,null,o.a.createElement("div",{className:"mt-1 mb-1"},t&&"Active"===N?o.a.createElement("div",{style:{display:"flex",width:"100vw",height:"80vh"}},o.a.createElement(v.a,{rtcProps:K,callbacks:M})):o.a.createElement(o.a.Fragment,null,!0===F?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{onClick:function(){return b(!0)},color:"success"},"liveStreams Now")):null)))))}}}]);
//# sourceMappingURL=210.1de0a04d.chunk.js.map