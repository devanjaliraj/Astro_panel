(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[222],{2099:function(e,t,a){"use strict";a.r(t),a.d(t,"AddProduct",(function(){return L}));var n=a(43),r=a(13),c=a(14),o=a(16),l=a(15),s=a(0),d=a.n(s),u=a(1259),i=a(1257),m=a(1258),p=a(187),g=a(1262),h=a(811),E=a(807),f=a(790),v=a(803),b=a(97),y=(a(827),a(58)),S=a(802),C=(a(42),a(847)),N=a.n(C),P=a(922),k=(a(927),a(1750)),H=a.n(k),L=(a(572),a(1065),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onEditorStateChange=function(e){c.setState({editorState:e,desc:H()(Object(P.convertToRaw)(e.getCurrentContent()))}),console.log("descccc",c.state.desc)},c.uploadImageCallBack=function(e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.open("POST","https://api.imgur.com/3/image"),n.setRequestHeader("Authorization","Client-ID 7e1c3e366d22aa3");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",(function(){var e=JSON.parse(n.responseText);t(e)})),n.addEventListener("error",(function(){var e=JSON.parse(n.responseText);a(e)}))}))},c.onChangeHandler=function(e){c.setState({selectedFile:e.target.file[0]}),console.log(e.target.file[0])},c.changeHandler1=function(e){c.setState({status:e.target.value})},c.changeHandler=function(e){c.setState(Object(n.a)({},e.target.name,e.target.value))},c.submitHandler=function(e){e.preventDefault(),b.a.post("/user/add_astro_product",{astroid:localStorage.getItem("astroId"),product:c.state.product,category:c.state.category,price:c.state.mrp}).then((function(e){console.log(e.data.data),"success"===e.data.message&&N()("","Product Updated Successfully"),c.props.history.push("/app/products/productlist")})).catch((function(e){console.log(e)}))},c.state={mrp:"",category:"",selectedFile:{},blogImg:"",product:"",categoryList:[],productList:[],desc:"",data:"data",editorState:P.EditorState.createEmpty()},c}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;console.log(e),console.log(t),b.a.get("/user/productbycategory/".concat(this.state.category)).then((function(e){console.log(e.data.data),a.setState({productList:e.data.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;console.log(this.state.category),b.a.get("/admin/getproductcalegory").then((function(t){console.log(t.data.data),e.setState({categoryList:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t;return d.a.createElement("div",null,d.a.createElement(S.a,{breadCrumbTitle:"Add Product",breadCrumbParent:" Product Management",breadCrumbActive:"Add Product"}),d.a.createElement(u.a,null,d.a.createElement(i.a,{className:"m-2"},d.a.createElement(m.a,null,d.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Add Product")),d.a.createElement(m.a,null,d.a.createElement(y.b,{render:function(e){var t=e.history;return d.a.createElement(p.a,{className:" btn btn-danger float-right",onClick:function(){return t.push("/app/products/productlist")}},"Back")}}))),d.a.createElement(g.a,null,d.a.createElement(h.a,{className:"m-1",onSubmit:this.submitHandler},d.a.createElement(i.a,null,d.a.createElement(m.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},d.a.createElement(E.a,null,"Category Name"),d.a.createElement(f.a,{required:!0,type:"select",name:"category",placeholder:"Enter Title",value:this.state.category,onChange:this.changeHandler},d.a.createElement("option",null,"Select....."),null===(e=this.state.categoryList)||void 0===e?void 0:e.map((function(e){return d.a.createElement("option",{key:e._id,value:e._id},e.name)})))),d.a.createElement(m.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},d.a.createElement(E.a,null,"Product Name"),d.a.createElement(f.a,{required:!0,type:"select",name:"product",placeholder:"Enter Title",value:this.state.product,onChange:this.changeHandler},d.a.createElement("option",null,"Select....."),null===(t=this.state.productList)||void 0===t?void 0:t.map((function(e){return d.a.createElement("option",{key:e._id,value:e._id},e.productname)})))),d.a.createElement(m.a,{lg:"4",md:"4",sm:"4",className:"mb-2"},d.a.createElement(E.a,null,"Selling Price(MRP)"),d.a.createElement(v.a,{type:"text",name:"mrp",placeholder:"Enter Price",value:this.state.mrp,onChange:this.changeHandler}))),d.a.createElement(i.a,null,d.a.createElement(m.a,{lg:"6",md:"6",sm:"6",className:"mb-1 mt-2"},d.a.createElement(p.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Save")))))))}}]),a}(s.Component));t.default=L}}]);
//# sourceMappingURL=222.1a805b3f.chunk.js.map