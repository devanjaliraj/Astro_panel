(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[210],{2067:function(e,a,t){"use strict";t.r(a);var c=t(27),n=t(0),l=t.n(n),o=t(1258),r=t(1256),i=t(1257),u=t(187),s=t(820),m=t(802),d=t(806),v=t(1011),b=(t(878),t(945),t(77));t(28),t(833),t(1443);a.default=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],E=a[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),g=(h[0],h[1],Object(n.useState)("")),O=Object(c.a)(g,2),j=O[0],S=O[1],k=Object(n.useState)(""),p=Object(c.a)(k,2),w=p[0],A=p[1],I=Object(n.useState)(""),N=Object(c.a)(I,2),y=N[0],C=N[1],x=Object(n.useState)(!1),D=Object(c.a)(x,2),F=D[0],J=D[1],L=Object(n.useState)(!1),M=Object(c.a)(L,2),P=(M[0],M[1],Object(n.useState)()),V=Object(c.a)(P,2),q=(V[0],V[1],{appId:"7d1f07c76f9d46be86bc46a791884023",dualStreamMode:0,channel:j,token:y||localStorage.getItem("astrotokenforvideocall"),uid:1,role:"Audience"}),z={EndCall:function(){window.location.reload(),E(!1)}};return Object(n.useEffect)((function(){var e=localStorage.getItem("astroId");console.log(e),b.a.get("user/channelList/".concat(e)).then((function(e){var a,t,c,n;console.log(null===(a=e.data)||void 0===a||null===(t=a.data[0])||void 0===t?void 0:t.channelName),S(null===(c=e.data)||void 0===c||null===(n=c.data[0])||void 0===n?void 0:n.channelName)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(r.a,null,l.a.createElement(i.a,{lg:"4",md:"4",sm:"4"},l.a.createElement("div",{className:"container mt-2 mb-1"},l.a.createElement(u.a,{onClick:function(e){return function(e){e.preventDefault();var a={astroAccount:localStorage.getItem("astroId")};"Active"===w&&b.a.post("/user/astroVideoCall",a).then((function(e){console.log(e.data.astroAccount),C(e.data.astroAccount),localStorage.setItem("astrotokenforvideocall",e.data.astroAccount),J(!0)})).catch((function(e){console.log(e)})),"Deactive"===w&&(localStorage.removeItem("astrotokenforvideocall"),J(!1),window.location.reload())}(e)},color:"success"},"Active liveStream"))),l.a.createElement(i.a,null,l.a.createElement("div",{className:"container mt-1 mb-1"},l.a.createElement(r.a,null,l.a.createElement(i.a,{className:"mt-1"},l.a.createElement(s.a,{check:!0},l.a.createElement(m.a,{value:"Active",onClick:function(e){A(e.target.value)},name:"radio1",type:"radio"})," ",l.a.createElement(d.a,{check:!0},"Online"))),l.a.createElement(i.a,{className:"mt-1"},l.a.createElement(s.a,{check:!0},l.a.createElement(m.a,{value:"Deactive",onClick:function(e){return A(e.target.value)},name:"radio1",type:"radio"})," ",l.a.createElement(d.a,{check:!0},"Offline"))))))),l.a.createElement(r.a,null,l.a.createElement("div",{className:"container mt-1 mb-1"},t&&"Active"===w?l.a.createElement("div",{style:{display:"flex",width:"75vw",height:"80vh"}},l.a.createElement(v.a,{rtcProps:q,callbacks:z})):l.a.createElement(l.a.Fragment,null,!0===F?l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{onClick:function(){return E(!0)},color:"success"},"liveStream Now")):null)))))}}}]);
//# sourceMappingURL=210.11cfadc5.chunk.js.map